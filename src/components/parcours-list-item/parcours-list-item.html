<div class='parcoursListItem' id="search-content" [ngClass]="isDone()">

  <div class="mainContent">
    <div class='leftIconColor'>

      <div class="roundIcon" [ngStyle]="{'background-color': color}">
      <span *ngIf="target === 'parcours'"
            aria-hidden="true"
            class="icon icon-parcours"
            [attr.alt]="translate.getKey('PBC_ALT_PARCOURS')"></span>
        <span *ngIf="target === 'interests'"
              aria-hidden="true"
              class="icon icon-poi"
              [attr.alt]="translate.getKey('PBC_ALT_POI')"></span>
      </div>
    </div>

    <div class='contentRight'>
      <div class='contentPreview' [ngClass]="config.globalGlobalCss()">
        <button type="button"class='info' [attr.id]="focusId"
                (click)="updateDiscoverStateOrOpen()"
                [attr.title]="translate.getKey('COMP_PLI_BTN_SHOW_PREVIEW')">
          <h1>{{ previewTitle }}</h1>
          <ul class="infoParcours" *ngIf="target === 'parcours'">
            <li>
              <label class="labelToLeft">{{ interestsList.length }}</label>
              <span aria-hidden="true" class="icon-poi" [attr.alt]="translate.getKey('PLI_ICON_LANDMARK')"></span>
            </li>
            <li>
              <label>
                <span class="spanWithDotInside">.</span>
                {{ parcourTime }}
              </label>
            </li>
            <li *ngIf="isShowTimeToObj">
              <label>
                <span class="spanWithDotInside">.</span>
                {{ timeToObj }}
              </label>
            </li>
          </ul>

          <ul class="infoParcours" *ngIf="target === 'interests'">
            <li>
              <label class="labelToLeft">{{ interestAddress }}</label>
            </li>
          </ul>

          <ul class="infoParcours infoParcoursLandmarks" *ngIf="target === 'interests'">
            <li>
              <label class="labelToLeft">{{ schedule }}</label>
            </li>
            <li *ngIf="isShowTimeToObj">
              <label>
                <span class="spanWithDotInside">.</span>
                {{ timeToObj }}
              </label>
            </li>
          </ul>
        </button>

        <button type="button" class='btnDownload'
                [ngClass]="canBeDownloadCls()"
                [attr.title]="getDownloadBtnTitle()"
                (click)="download()" [ngClass]="config.globalGlobalCss()">
        <span class='icon icon-download'>
          <ion-icon name="arrow-round-down"></ion-icon>
        </span>
          <label [innerHTML]="translate.getKey('PLI_ACTION_DOWNLOAD_DATA')">
          </label>
        </button>
      </div>

    </div>
  </div>


  <!-- CONTENT DISCOVER -->
  <div class="contentDiscover" [attr.aria-hidden]="! isOpenDiscover">
    <div class='content' [ngClass]="config.globalGlobalCss()" *ngIf="target === 'parcours'">
      <p [innerHTML]="data.bbCodeToHtml(previewDescription)">
      </p>
    </div>

    <div class='playerAudio' [ngClass]="config.globalGlobalCss()">
      <player-audio
        [audioURI]="getAudio()"
        [playerUUID]="('player__audio') + openId"
        [audioScript]="audioScript"
        [target]="target"
        [uuid]="openId"
        [loadPlayer]="isOpenDiscover"></player-audio>
    </div>
    <div class='footer' [ngClass]="config.globalGlobalCss()">
      <button
        [attr.title]="translate.getKey('PLI_LIST_START_PARCOURS')"
        type="button"
        *ngIf="target === 'parcours' && interestsList.length > 0"
        (click)="openNext()"
        class='btnStart' [ngStyle]="{'background-color': color}">
        {{ translate.getKey('PLI_LIST_START_PARCOURS') }}
      </button>
      <button
        [attr.title]="translate.getKey('PLI_LIST_START_POI')"
        type="button"
        *ngIf="target === 'interests'"
        (click)="openNext()"
        class='btnStart' [ngStyle]="{'background-color': color}">
        {{ translate.getKey('PLI_LIST_START_POI') }}
      </button>
    </div>
  </div>

</div>
